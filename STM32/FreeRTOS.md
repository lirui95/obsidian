调用系统初始化，任务创建，开启任务调度



一、硬件基础
	CORTEX-M优先级与中断
		用于中断屏蔽的特殊寄存器
			1、PRIMASK 和 FAULTMASK 寄存器
				{
					PRIMASK用于屏蔽中断，适用于对时序要求比较高的任务
					（
						UCOS 中的临界区代码代码保护就是通过开关中断实现的(UCOSIII 也可以使用禁止任务调度的方法来实现临界区代码保护，这里不讨论这种情况)，而开关中断就是直接操作 PRIMASK寄存器的，所以在 UCOS 中关闭中断的时候时关闭了除复位、 NMI 和 HardFault 以外的所有中断！
					）
				}
			2、BASEPRI寄存器
				优先级阈值设置寄存器
				{
					FreeRTOS 的开关中断就是操作 BASEPRI 寄存器来实现的！它可以关闭低于某个阈值的中断，高于这个阈值的中断就不会被关闭！
				}
					


操作系统实现任务管理 
奇怪于代码段的定义实现了什么功能 
systick应该还是按照内核时钟进行的，
![[Pasted image 20240128185611.png]]

任务创建与流程启动 ：
1-开发板硬件初始化 
2-创建appcreate任务
3-启动rtos ，开启多任务调度

somequestion：
临界区
![[Pasted image 20240128193632.png]]

systick ；或者是 操作系统的时钟滴答是由什么初始化的 
systick根据系统时钟产生中断，在中断处理函数中调用port.c的接口函数（这里有疑问，接口函数接受的传入参数是什么，还是说函数只需要开始运行即可），，根据中断进行加，作为RTOS的tick
另：tick的优先级

任务创建管理 
FreeRTOS中断配置与临界段
临界段代码 不能被打断的代码，可以用于外设初始化，RTOS进入临界段需要关闭中断，处理完之后打开。

操作系统的中断配置 
	这部分存在一些问题
	：
		临界代码段的实现，中断的设置
	中断的打开与关闭 
	临界代码段

rtos任务管理 （创建、删除、挂起、恢复）
任务状态：运行、阻塞、就绪、挂起
阻塞态有超时时间，超过时间会退出阻塞，而挂起没有超时时间
![[Pasted image 20240131143429.png]]

任务优先级：
任务执行按照优先级分配，0为最低，